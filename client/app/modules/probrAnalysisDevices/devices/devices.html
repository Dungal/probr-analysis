<div ng-include="'app/modules/probrAnalysisCommon/navbar/navbar.html'"></div>
<div ng-include="'app/modules/probrAnalysisCommon/navbar/analysis.html'"></div>


<div class="container-fluid">

    <probr-loading isLoading="isLoading"></probr-loading>

    <h1>Stats</h1>

    <div class="row">
        <div class="col-sm-6">
            <h2> Vendor pie chart: </h2>
            <canvas class="chart chart-pie" data="pieData" labels="pieLabels">
        </div>
        <div class="col-sm-6 table-responsive">
            <h2> Top 15 vendors: </h2>
            <br>
            <table class="table table-condensed">
                <tr>
                    <td> Rank</td>
                    <td> Vendor</td>
                    <td> Count</td>
                    <td> Percentage</td>
                </tr>
                <tr ng-repeat="rank in ranking">
                    <td>{{ rank.rank }}</td>
                    <td>{{ rank.vendor }}</td>
                    <td>{{ rank.count }}</td>
                    <td>{{ rank.percentage }}</td>
                </tr>
            </table>
        </div>
    </div>
    <br>
    <hr>
    <br>

    <div class="row">
        <div class="col-sm-3">
            <h2>Total Devices:</h2>

            <h3 class="text-center">{{devices.length}}</h3>

            <p class="text-center">unique devices spotted</p>
        </div>
        <div class="col-sm-3">
            <h2>Non-Randomized Devices:</h2>

            <h3 class="text-center">{{devices.length - randomizedDevices.length}}</h3>

            <p class="text-center">non-randomized devices</p>
        </div>
        <div class="col-sm-3">
            <h2>Randomized Devices:</h2>

            <h3 class="text-center">{{randomizedDevices.length}}</h3>

            <p class="text-center">random devices spotted</p>
        </div>
        <div class="col-sm-3">
            <h2>Randomized Ratio:</h2>

            <h3 class="text-center">{{ ((randomizedDevices.length*1.0)/(devices.length*1.0))*100.0 | number:0 }}%</h3>

            <p class="text-center">random devices</p>
        </div>
    </div>
</div>
